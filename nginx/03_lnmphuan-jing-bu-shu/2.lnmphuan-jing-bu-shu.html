<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LNMP环境部署 | ONEMUE Docs</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="This is a Docs.">
    
    <link rel="preload" href="/docs/assets/css/0.styles.90a57e95.css" as="style"><link rel="preload" href="/docs/assets/js/app.27b283a1.js" as="script"><link rel="preload" href="/docs/assets/js/2.2e8f894a.js" as="script"><link rel="preload" href="/docs/assets/js/15.002291f6.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.f6f629b0.js"><link rel="prefetch" href="/docs/assets/js/11.84b24849.js"><link rel="prefetch" href="/docs/assets/js/12.76af45bb.js"><link rel="prefetch" href="/docs/assets/js/13.c0ae4be6.js"><link rel="prefetch" href="/docs/assets/js/14.4f6283b3.js"><link rel="prefetch" href="/docs/assets/js/16.5dfc5cc5.js"><link rel="prefetch" href="/docs/assets/js/17.14f17db6.js"><link rel="prefetch" href="/docs/assets/js/18.971e9caa.js"><link rel="prefetch" href="/docs/assets/js/19.889fb802.js"><link rel="prefetch" href="/docs/assets/js/20.d1be27fd.js"><link rel="prefetch" href="/docs/assets/js/21.83fd3971.js"><link rel="prefetch" href="/docs/assets/js/22.6bc785a8.js"><link rel="prefetch" href="/docs/assets/js/23.c9474e02.js"><link rel="prefetch" href="/docs/assets/js/24.054109cd.js"><link rel="prefetch" href="/docs/assets/js/25.c7f91c21.js"><link rel="prefetch" href="/docs/assets/js/3.ea118fbe.js"><link rel="prefetch" href="/docs/assets/js/4.6fbf7596.js"><link rel="prefetch" href="/docs/assets/js/5.f7d53cbe.js"><link rel="prefetch" href="/docs/assets/js/6.db4bfcd5.js"><link rel="prefetch" href="/docs/assets/js/7.2123913f.js"><link rel="prefetch" href="/docs/assets/js/8.c52818c0.js"><link rel="prefetch" href="/docs/assets/js/9.20e728b8.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.90a57e95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">ONEMUE Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/docs/" aria-current="page" class="sidebar-link">内容构建中</a></li><li><a href="/docs/unicloud.html" class="sidebar-link">出现两年的 uniCloud</a></li><li><a href="/docs/han-shu-de-yi-xie-yan-jiu.html" class="sidebar-link">/han-shu-de-yi-xie-yan-jiu.html</a></li><li><a href="/docs/mian-shi.html" class="sidebar-link">面试汇总</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java Script</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Nginx</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nginx安装及配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nginx模块管理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>LNMP环境部署</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/1.nginxwang-zhan-fu-wu.html" class="sidebar-link">Nginx网站服务</a></li><li><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html" aria-current="page" class="active sidebar-link">LNMP环境部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_1-安装操作系统" class="sidebar-link">1. 安装操作系统</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_2-系统初始化配置" class="sidebar-link">2.系统初始化配置</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_3-安装配置nginx网站服务器" class="sidebar-link">3. 安装配置Nginx网站服务器</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_4-安装配置mysql数据库服务器" class="sidebar-link">4.安装配置MySQL数据库服务器</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_5-安装配置php环境" class="sidebar-link">5. 安装配置PHP环境</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_6-lnmp环境测试" class="sidebar-link">6.LNMP环境测试</a></li><li class="sidebar-sub-header"><a href="/docs/nginx/03_lnmphuan-jing-bu-shu/2.lnmphuan-jing-bu-shu.html#_7-部署开源论坛discuz" class="sidebar-link">7. 部署开源论坛Discuz</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Nginx优化管理</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>收藏文章</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="lnmp环境部署"><a href="#lnmp环境部署" class="header-anchor">#</a> LNMP环境部署</h1> <p>LNMP是指一组通常一 起使用来运行动态网站或者服务器的自由软件名称首字母缩写。L指Linux，N指Nginx，M一般指MySQL，也可以指MariaDB, P一般指PHP，也可以指Perl或Python。 可以在独立主机上轻松的安装LNMP生产环境。本案例主要介绍LNMP框架安装方法以及部署Discuz社区论坛应用。</p> <h2 id="_1-安装操作系统"><a href="#_1-安装操作系统" class="header-anchor">#</a> 1. 安装操作系统</h2> <ul><li><p>使用VMware workstation新建虚拟机</p></li> <li><p>安装CentOS7.5系统，最小化安装，记得要选中开发工具(development tools)</p></li> <li><p>安装bash-completion以便可以命令补全</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> bash-completion -y
</code></pre></div></li> <li><p>安装vim等基础包</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> <span class="token function">vim</span> <span class="token function">wget</span> net-tools <span class="token function">curl</span> -y
</code></pre></div></li></ul> <h2 id="_2-系统初始化配置"><a href="#_2-系统初始化配置" class="header-anchor">#</a> 2.系统初始化配置</h2> <ul><li><p>Linux 系统资源调配</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> /etc/security/limits.conf 
*               soft    nofile            <span class="token number">65535</span>
*               soft    nofile            <span class="token number">65535</span>
</code></pre></div></li> <li><p>修改主机名字</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ hostnamectl set-hostname www.lnmp.com
</code></pre></div></li> <li><p>配置网络。设置固定IP地址，网关及DNS服务器地址</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ nmcli connection modify ens33 ipv4.addresses <span class="token number">192.168</span>.154.137/24 ipv4.gateway <span class="token number">192.168</span>.154.2 ipv4.dns <span class="token number">192.168</span>.154.2 autoconnect <span class="token function">yes</span>
$ nmcli connection up ens33
Connection successfully activated <span class="token punctuation">(</span>D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/5<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>关闭Selinux</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">vi</span> /etc/selinux/config
<span class="token assign-left variable">SELINUX</span><span class="token operator">=</span>disabled
</code></pre></div></li> <li><p>yum源的配置，可以根据业务需求来安装epel、 nginx、 remi源，且修改配置参数。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> epel-release -y
$ <span class="token function">rpm</span> -ivh http://rpms.remirepo.net/enterprise/remi-release-7.rpm
$ <span class="token function">vi</span> remi.repo
<span class="token punctuation">[</span>epel<span class="token punctuation">]</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre></div></li> <li><p>DNS 解析域名设置</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> /etc/resolve.conf 
nameserver <span class="token number">192.168</span>.154.2
nameserver <span class="token number">202.106</span>.0.20
</code></pre></div></li></ul> <h2 id="_3-安装配置nginx网站服务器"><a href="#_3-安装配置nginx网站服务器" class="header-anchor">#</a> 3. 安装配置Nginx网站服务器</h2> <h3 id="_3-1-安装nginx服务"><a href="#_3-1-安装nginx服务" class="header-anchor">#</a> 3.1 安装nginx服务</h3> <ul><li><p>设置nginx yum源</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> yum-utils -y
$ <span class="token function">cat</span> /etc/yum.repos.d/nginx.repo 
<span class="token punctuation">[</span>nginx-stable<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx stable repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://nginx.org/keys/nginx_signing.key

<span class="token punctuation">[</span>nginx-mainline<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>nginx mainline repo
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://nginx.org/packages/mainline/centos/<span class="token variable">$releasever</span>/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>https://nginx.org/keys/nginx_signing.key
</code></pre></div></li> <li><p>安装nginx服务，会安装1.16.0版本</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> nginx -y
</code></pre></div></li> <li><p>设置nginx开机启动并开启nginx服务</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ systemctl <span class="token builtin class-name">enable</span> nginx
Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.
$ systemctl start nginx
$ systemctl status nginx
● nginx.service - nginx - high performance web server
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/nginx.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Tue <span class="token number">2020</span>-04-14 <span class="token number">12</span>:01:46 EDT<span class="token punctuation">;</span> 6s ago
     Docs: http://nginx.org/en/docs/
  Process: <span class="token number">20355</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/nginx -c /etc/nginx/nginx.conf <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
 Main PID: <span class="token number">20356</span> <span class="token punctuation">(</span>nginx<span class="token punctuation">)</span>
   CGroup: /system.slice/nginx.service
           ├─20356 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf
           └─20357 nginx: worker process

Apr <span class="token number">14</span> <span class="token number">12</span>:01:46 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting nginx - high performance web server<span class="token punctuation">..</span>.
Apr <span class="token number">14</span> <span class="token number">12</span>:01:46 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started nginx - high performance web server.
</code></pre></div></li> <li><p>防火墙放行http服务</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ firewall-cmd --add-service<span class="token operator">=</span>http --permanent
success
$ firewall-cmd --add-service<span class="token operator">=</span>http
success
</code></pre></div></li> <li><p>测试是够可以访问nginx</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">curl</span> <span class="token number">192.168</span>.154.137
</code></pre></div><p>或者找个客户端，使用浏览器访问服务器地址</p></li></ul> <h3 id="_3-2-调整nginx配置文件"><a href="#_3-2-调整nginx配置文件" class="header-anchor">#</a> 3.2 调整nginx配置文件</h3> <p>(文件夹有default.conf和nginx.conf)</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code>$ <span class="token directive"><span class="token keyword">vim</span> /etc/nginx/nginx.conf
user  nginx nginx</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">worker_processes</span>  <span class="token number">4</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">worker_cpu_affinity</span> <span class="token number">00000001</span> <span class="token number">00000010</span> <span class="token number">00000100</span> <span class="token number">00001000</span></span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">worker_rlimit_nofile</span> <span class="token number">65535</span></span><span class="token punctuation">;</span>

<span class="token directive"><span class="token keyword">error_log</span>  /var/log/nginx/error.log warn</span><span class="token punctuation">;</span>
<span class="token directive"><span class="token keyword">pid</span>        /var/run/nginx.pid</span><span class="token punctuation">;</span>


<span class="token directive"><span class="token keyword">events</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">use</span> epoll</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">worker_connections</span>  <span class="token number">10240</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token directive"><span class="token keyword">http</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">include</span>       /etc/nginx/mime.types</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">default_type</span>  application/octet-stream</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_names_hash_bucket_size</span> <span class="token number">128</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">client_header_buffer_size</span> <span class="token number">2k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">large_client_header_buffers</span> <span class="token number">4</span> <span class="token number">4k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">8m</span></span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">log_format</span>  main  <span class="token string">'<span class="token variable">$remote_addr</span> - <span class="token variable">$remote_user</span> [<span class="token variable">$time_local]</span> &quot;<span class="token variable">$request</span>&quot; '</span>
                      <span class="token string">'<span class="token variable">$status</span> <span class="token variable">$body_bytes_sent</span> &quot;<span class="token variable">$http_referer</span>&quot; '</span>
                      <span class="token string">'&quot;<span class="token variable">$http_user_agent</span>&quot; &quot;<span class="token variable">$http_x_forwarded_for</span>&quot;'</span></span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">access_log</span>  /var/log/nginx/access.log  main</span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">sendfile</span>        <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">tcp_nopush</span>     <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">tcp_nodelay</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">keepalive_timeout</span>  <span class="token number">65</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_path</span> /etc/nginx/fastcgi_cache levels=1:2 keys_zone=TEST:10m inactive=5m</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_key</span> http://<span class="token variable">$host</span><span class="token variable">$request_uri</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_connect_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_send_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_read_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_buffer_size</span> <span class="token number">4k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_buffers</span> <span class="token number">8</span> <span class="token number">4k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_busy_buffers_size</span> <span class="token number">8k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_temp_file_write_size</span> <span class="token number">8k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache</span> TEST</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> <span class="token number">200</span> <span class="token number">302</span> <span class="token number">1h</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> <span class="token number">301</span> <span class="token number">1d</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> any <span class="token number">1m</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_min_uses</span> <span class="token number">1</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">fastcgi_cache_use_stale</span> error timeout invalid_header http_500</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">open_file_cache</span> max=204800 inactive=20s</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">open_file_cache_min_uses</span> <span class="token number">1</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">open_file_cache_valid</span> <span class="token number">30s</span></span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">gzip</span>  <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_min_length</span> <span class="token number">1k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_buffers</span> <span class="token number">4</span> <span class="token number">16k</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_http_version</span> 1.0</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_comp_level</span> <span class="token number">2</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_types</span> text/plain application/x-javascript text/css application/xml</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">gzip_vary</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>

    <span class="token directive"><span class="token keyword">include</span> /etc/nginx/conf.d/*.conf</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-nginx extra-class"><pre class="language-nginx"><code>$ <span class="token directive"><span class="token keyword">vim</span> /etc/nginx/conf.d/default.conf
server</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span>  www.lnmp.com</span><span class="token punctuation">;</span>

    <span class="token comment">#charset koi8-r;</span>
    <span class="token comment">#access_log  /var/log/nginx/host.access.log  main;</span>

    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span>   /usr/share/nginx/html</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">index</span>  index.html index.htm</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> /status</span>
    <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">stub_status</span> <span class="token boolean">on</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">#error_page  404              /404.html;</span>

    <span class="token comment"># redirect server error pages to the static page /50x.html</span>
    <span class="token comment">#</span>
    <span class="token directive"><span class="token keyword">error_page</span>   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  /50x.html</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> = /50x.html</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span>   /opt/nginx/html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> ~ .*/.(gif|jpg|gpeg|png|bmp|swf|js|css)$</span>
    <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">expires</span> <span class="token number">30d</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>
    <span class="token comment">#</span>
    <span class="token comment">#location ~ \.php$ {</span>
    <span class="token comment">#    proxy_pass   http://127.0.0.1;</span>
    <span class="token comment">#}</span>

    <span class="token comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>
    <span class="token comment">#</span>
    <span class="token comment">#location ~ \.php$ {</span>
    <span class="token comment">#    root           html;</span>
    <span class="token comment">#    fastcgi_pass   127.0.0.1:9000;</span>
    <span class="token comment">#    fastcgi_index  index.php;</span>
    <span class="token comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span>
    <span class="token comment">#    include        fastcgi_params;</span>
    <span class="token comment">#}</span>

    <span class="token comment"># deny access to .htaccess files, if Apache's document root</span>
    <span class="token comment"># concurs with nginx's one</span>
    <span class="token comment">#</span>
    <span class="token comment">#location ~ /\.ht {</span>
    <span class="token comment">#    deny  all;</span>
    <span class="token comment">#}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>由于更改了根目录，所以需要创建新的根目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">mkdir</span> /opt/nginx/html -p
$ <span class="token function">cp</span> /usr/share/nginx/html/* /opt/nginx/html/
$ ll /opt/nginx/html/
total <span class="token number">8</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">494</span> Apr <span class="token number">14</span> <span class="token number">12</span>:48 50x.html
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">612</span> Apr <span class="token number">14</span> <span class="token number">12</span>:48 index.html
</code></pre></div></li> <li><p>改变了服务配置文件，所以需要重新启动服务</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ nginx -t <span class="token comment">#检测配置文件语法是否有错误</span>
$ systemctl restart nginx
$ systemctl status nginx
</code></pre></div></li></ul> <h2 id="_4-安装配置mysql数据库服务器"><a href="#_4-安装配置mysql数据库服务器" class="header-anchor">#</a> 4.安装配置MySQL数据库服务器</h2> <p>​		MySQL是目前使用最受信赖和广泛使用的开源数据库平台。全球十大最受欢迎和高流量的网站中有10个依赖于MySQL。MySQL 8.0通过提供全面的改进建立在这一势头上，旨在使创新的DBA和开发人员能够在最新一代的开发框架和硬件上创建和部署下一代Web，嵌入式，移动和云/ SaaS/ PaaS/ DBaaS应用程序平台。MySQL 8.0亮点包括：</p> <ul><li>MySQL文档存储</li> <li>交易数据字典</li> <li>SQL角色</li> <li>默认为utf8mb4</li> <li>公用表表达式</li> <li>窗口功能</li> <li>以及更多</li></ul> <h3 id="_4-1-安装mysql源"><a href="#_4-1-安装mysql源" class="header-anchor">#</a> 4.1 安装mysql源</h3> <ul><li><p>下载MySQL YUM 仓库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">wget</span> https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm
</code></pre></div></li> <li><p>安装MySQL YUM 仓库：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">rpm</span> -Uvh mysql80-community-release-el7-3.noarch.rpm
</code></pre></div></li></ul> <h3 id="_4-2-安装mysql数据库"><a href="#_4-2-安装mysql数据库" class="header-anchor">#</a> 4.2 安装mysql数据库</h3> <ul><li><p>默认安装最新GA版MySQL</p></li> <li><p>可以通过运行以下命令并检查其输出来验证是否已启用和禁用了正确的子存储库</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum repolist enabled <span class="token operator">|</span> <span class="token function">grep</span> mysql
Repository <span class="token string">'epel'</span> is missing name <span class="token keyword">in</span> configuration, using <span class="token function">id</span>
Repository epel is listed <span class="token function">more</span> than once <span class="token keyword">in</span> the configuration
mysql-connectors-community/x86_64 MySQL Connectors Community                 <span class="token number">141</span>
mysql-tools-community/x86_64      MySQL Tools Community                      <span class="token number">105</span>
mysql80-community/x86_64          MySQL <span class="token number">8.0</span> Community Server                 <span class="token number">161</span>
</code></pre></div></li> <li><p>安装MySQL</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum remove mariadb-libs -y
$ yum <span class="token function">install</span> mysql-community-server -y
$ systemctl start mysqld
$ systemctl status mysqld
● mysqld.service - MySQL Server
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/mysqld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Tue <span class="token number">2020</span>-04-14 <span class="token number">13</span>:18:59 EDT<span class="token punctuation">;</span> 16s ago
     Docs: man:mysqld<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
           http://dev.mysql.com/doc/refman/en/using-systemd.html
 Main PID: <span class="token number">21009</span> <span class="token punctuation">(</span>mysqld<span class="token punctuation">)</span>
   Status: <span class="token string">&quot;Server is operational&quot;</span>
   CGroup: /system.slice/mysqld.service
           └─21009 /usr/sbin/mysqld

Apr <span class="token number">14</span> <span class="token number">13</span>:18:55 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting MySQL Server<span class="token punctuation">..</span>.
Apr <span class="token number">14</span> <span class="token number">13</span>:18:59 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started MySQL Server.
</code></pre></div></li></ul> <h3 id="_4-3-mysql数据库初始化-从mysql-5-7开始"><a href="#_4-3-mysql数据库初始化-从mysql-5-7开始" class="header-anchor">#</a> 4.3 MySQL数据库初始化(从MySQL 5.7开始)</h3> <p>在服务器初始启动时，如果服务器的数据目录为空，则会发生以下情况：</p> <ul><li><p>服务器已初始化。</p></li> <li><p>在数据目录中生成SSL证书和密钥文件。</p></li> <li><p>该validate_ password插件安装并启用。</p></li> <li><p>将'root'@'localhost 创建一个超级用户帐户。 设置超级用户的密码并将其存储在错误日志文件中。要显示它，请使用以下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">grep</span> <span class="token string">'temporary password'</span> /var/log/mysqld.log
<span class="token number">2020</span>-04-14T17:18:57.123362Z <span class="token number">5</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> <span class="token punctuation">[</span>MY-010454<span class="token punctuation">]</span> <span class="token punctuation">[</span>Server<span class="token punctuation">]</span> A temporary password is generated <span class="token keyword">for</span> root@localhost: tqlbNLQ*v5j1
</code></pre></div><p>○ 通过使用生成的临时密码登录并为超级用户帐户设置自定义密码，尽快更改root密码：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mysql -uroot -ptqlbNLQ*v5j1
<span class="token comment"># 进入数据库后更改密码</span>
<span class="token operator">&gt;</span> alter user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'Com.123456'</span><span class="token punctuation">;</span>
<span class="token comment"># 注意: MySQL的validate_ password 插件默认安装。这将要求密码包含至少一个大写字母，一个小写字母，一个数字和一个特殊字符，并且密码总长度至少为8个字符。</span>
</code></pre></div></li></ul> <h3 id="_4-4-配置开机启动mysql服务"><a href="#_4-4-配置开机启动mysql服务" class="header-anchor">#</a> 4.4 配置开机启动mysql服务</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ systemctl <span class="token builtin class-name">enable</span> mysqld
$ systemctl restart mysqld
$ systemctl status mysqld
● mysqld.service - MySQL Server
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/mysqld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Wed <span class="token number">2020</span>-04-15 07:38:02 EDT<span class="token punctuation">;</span> 6s ago
     Docs: man:mysqld<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
           http://dev.mysql.com/doc/refman/en/using-systemd.html
  Process: <span class="token number">21314</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/bin/mysqld_pre_systemd <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
 Main PID: <span class="token number">21338</span> <span class="token punctuation">(</span>mysqld<span class="token punctuation">)</span>
   Status: <span class="token string">&quot;Server is operational&quot;</span>
   CGroup: /system.slice/mysqld.service
           └─21338 /usr/sbin/mysqld

Apr <span class="token number">15</span> 07:38:01 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting MySQL Server<span class="token punctuation">..</span>.
Apr <span class="token number">15</span> 07:38:02 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started MySQL Server.
</code></pre></div><h2 id="_5-安装配置php环境"><a href="#_5-安装配置php环境" class="header-anchor">#</a> 5. 安装配置PHP环境</h2> <h3 id="_5-1-安装php7的yum源"><a href="#_5-1-安装php7的yum源" class="header-anchor">#</a> 5.1 安装php7的YUM源</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">rpm</span> -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
$ <span class="token function">rpm</span> -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
</code></pre></div><h3 id="_5-2-安装php7-2"><a href="#_5-2-安装php7-2" class="header-anchor">#</a> 5.2 安装PHP7.2</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> php72w php72w-cli php72w-common php72w-gd php72w-ldap php72w-mbstring php72w-mcrypt php72w-mysql php72w-pdo -y
</code></pre></div><h3 id="_5-3-安装php-fpm并启动"><a href="#_5-3-安装php-fpm并启动" class="header-anchor">#</a> 5.3 安装php-fpm并启动</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ yum <span class="token function">install</span> php72w-fpm php72w-opcache -y
$ systemctl <span class="token builtin class-name">enable</span> php-fpm
$ systemctl start php-fpm
$ systemctl status php-fpm
● php-fpm.service - The PHP FastCGI Process Manager
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/php-fpm.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Wed <span class="token number">2020</span>-04-15 08:23:23 EDT<span class="token punctuation">;</span> 4s ago
 Main PID: <span class="token number">21961</span> <span class="token punctuation">(</span>php-fpm<span class="token punctuation">)</span>
   Status: <span class="token string">&quot;Ready to handle connections&quot;</span>
   CGroup: /system.slice/php-fpm.service
           ├─21961 php-fpm: master process <span class="token punctuation">(</span>/etc/php-fpm.conf<span class="token punctuation">)</span>
           ├─21962 php-fpm: pool www
           ├─21963 php-fpm: pool www
           ├─21964 php-fpm: pool www
           ├─21965 php-fpm: pool www
           └─21966 php-fpm: pool www

Apr <span class="token number">15</span> 08:23:23 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting The PHP FastCGI Process Manager<span class="token punctuation">..</span>.
Apr <span class="token number">15</span> 08:23:23 www.lnmp.com systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started The PHP FastCGI Process Manager.
</code></pre></div><h3 id="_5-4-调整php-fpm-配置文件"><a href="#_5-4-调整php-fpm-配置文件" class="header-anchor">#</a> 5.4 调整php-fpm 配置文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">vi</span> /etc/php-fpm.d/www.conf
<span class="token punctuation">[</span>www<span class="token punctuation">]</span>
user <span class="token operator">=</span> nginx
group <span class="token operator">=</span> nginx
</code></pre></div><h3 id="_5-5-调整nginx配置文件"><a href="#_5-5-调整nginx配置文件" class="header-anchor">#</a> 5.5 调整nginx配置文件</h3> <div class="language-nginx extra-class"><pre class="language-nginx"><code>$ <span class="token directive"><span class="token keyword">vi</span> /etc/nginx/conf.d/default.conf 
location /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span>   /opt/nginx/html</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">index</span>  index.php index.html index.htm</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
    <span class="token comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>
    <span class="token comment">#</span>
    <span class="token directive"><span class="token keyword">location</span> ~ \.php$</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span>           /opt/nginx/html</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">fastcgi_pass</span>   127.0.0.1:9000</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">fastcgi_index</span>  index.php</span><span class="token punctuation">;</span>
    <span class="token comment">#   fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span>
    	<span class="token directive"><span class="token keyword">fastcgi_param</span>  SCRIPT_FILENAME  <span class="token variable">$document_root</span><span class="token variable">$fastcgi_script_name</span></span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">include</span>        fastcgi_params</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">fastcgi_cache</span> TEST</span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> <span class="token number">300</span> <span class="token number">302</span> <span class="token number">1h</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> <span class="token number">301</span> <span class="token number">1d</span></span><span class="token punctuation">;</span>
	<span class="token directive"><span class="token keyword">fastcgi_cache_valid</span> any <span class="token number">1m</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-6-创建mysql数据库管理员"><a href="#_5-6-创建mysql数据库管理员" class="header-anchor">#</a> 5.6 创建MySQL数据库管理员</h3> <p>认证机制必须是mysql_native_ password；默认mysql8使用caching_sha2_ password的身份验证机制</p> <div class="language-mysql extra-class"><pre class="language-text"><code>&gt; create user 'dbadmin'@'%' identified with mysql_native_password by 'Com.123456';
&gt; grant all on *.* to 'dbadmin'@'%';
&gt; grant grant option on *.* to 'dbadmin'@'%';
</code></pre></div><h2 id="_6-lnmp环境测试"><a href="#_6-lnmp环境测试" class="header-anchor">#</a> 6.LNMP环境测试</h2> <h3 id="_6-1-测试lnmp环境"><a href="#_6-1-测试lnmp环境" class="header-anchor">#</a> 6.1 测试LNMP环境</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> test.php 
<span class="token operator">&lt;</span>?php
phpinfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
?<span class="token operator">&gt;</span>
</code></pre></div><ul><li>在客户端访问 http://192.168.154.137/test.php</li></ul> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue1647249939bNb0fs.png" alt="image-20200415204934448"></p> <h3 id="_6-2-测试是否可以连接mysql数据库文件"><a href="#_6-2-测试是否可以连接mysql数据库文件" class="header-anchor">#</a> 6.2 测试是否可以连接MySQL数据库文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">cat</span> mysql_test.php 
<span class="token operator">&lt;</span>?PHP
    <span class="token variable">$conn</span><span class="token operator">=</span>mysqli_connect<span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span>,<span class="token string">&quot;dbadmin&quot;</span>,<span class="token string">&quot;Com.123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    if<span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token builtin class-name">echo</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>else<span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
?<span class="token operator">&gt;</span>
</code></pre></div><ul><li>在客户端访问</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">curl</span> http://192.168.154.137/mysql_test.php
ok
</code></pre></div><h2 id="_7-部署开源论坛discuz"><a href="#_7-部署开源论坛discuz" class="header-anchor">#</a> 7. 部署开源论坛Discuz</h2> <h3 id="_7-1-下载discuz论坛文件"><a href="#_7-1-下载discuz论坛文件" class="header-anchor">#</a> 7.1 下载Discuz论坛文件</h3> <p>Discuz现在在gitee.com进行维护，地址为：http://gitee.com/ComsenzDiscuz/DiscuzX</p> <ul><li><p>下载文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">wget</span> https://gitee.com/ComsenzDiscuz/DiscuzX/repository/archive/master.zip
</code></pre></div></li> <li><p>解压并上传upload目录到网站根目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">unzip</span> master.zip 
$ <span class="token builtin class-name">cd</span> DiscuzX/
$ <span class="token function">ls</span>
readme  README.md  upload  utility
$ <span class="token function">mv</span> upload/ /opt/nginx/html/
</code></pre></div></li></ul> <h3 id="_7-2-建立discuz论坛所用数据库"><a href="#_7-2-建立discuz论坛所用数据库" class="header-anchor">#</a> 7.2 建立Discuz论坛所用数据库</h3> <div class="language-mysql extra-class"><pre class="language-text"><code>$ mysql -uroot -pCom.123456
mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
4 rows in set (0.01 sec)

mysql&gt; create database discuz;
Query OK, 1 row affected (0.01 sec)

mysql&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| discuz             |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.00 sec)
</code></pre></div><h3 id="_7-3-安装discuz论坛"><a href="#_7-3-安装discuz论坛" class="header-anchor">#</a> 7.3 安装Discuz论坛</h3> <ul><li><p>在客户端使用浏览器打开网站地址：http://192.168.154.137/upload/install ，会显示以下安装界面：</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue1647249965xNvblf.png" alt="image-20200415213847825"></p></li> <li><p>点击我同意</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue1647249978WXjvuH.png" alt="image-20200415214043019"></p></li> <li><p>解决所有文件权限，需要可写权限</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">cd</span> /opt/nginx/html/upload/
$ <span class="token function">chmod</span> -R <span class="token number">777</span> ./config/ ./data/ ./uc_client/ ./uc_server/
</code></pre></div></li> <li><p>然后刷新界面</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue16472499883HzUmW.png" alt="image-20200415214757746"></p></li> <li><p>选择全新安装，点击下一步</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue16472499962fhr47.png" alt="image-20200415214822792"></p></li> <li><p>添加安装数据库有关信息必须要按照实际情况添加。</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue1647250002rjo8dN.png" alt="image-20200415215149699"></p></li> <li><p>会开始安装论坛，安装完毕后就可以访问论坛了，可以把upload文件夹重命名</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">mv</span> upload/ discuz
</code></pre></div></li></ul> <p>访问论坛</p> <p><img src="https://pic-onemue-cn.oss-cn-beijing.aliyuncs.com/docs/onemue1647250010od5uxN.png" alt="image-20200415215539089"></p> <h3 id="_7-4-可以使用论坛管理员admin用户做论坛管理"><a href="#_7-4-可以使用论坛管理员admin用户做论坛管理" class="header-anchor">#</a> 7.4 可以使用论坛管理员admin用户做论坛管理</h3> <p>使用论坛管理员账号admin登录管理中心，就可以管理论坛了。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/nginx/03_lnmphuan-jing-bu-shu/1.nginxwang-zhan-fu-wu.html" class="prev">
        Nginx网站服务
      </a></span> <span class="next"><a href="/docs/nginx/04_nginxyou-hua-guan-li/1.-nginxyou-hua-ji-fang-dao-lian/nginxyou-hua-ji-fang-dao-lian.html">
        Nginx优化及防盗链
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.27b283a1.js" defer></script><script src="/docs/assets/js/2.2e8f894a.js" defer></script><script src="/docs/assets/js/15.002291f6.js" defer></script>
  </body>
</html>
